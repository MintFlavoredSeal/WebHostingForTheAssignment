<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Let's Retire</title>
        <link rel="shortcut icon" type="image/x-icon" href="src\img\shortcut_icon.png">
        <style>
            body {
                background-image: url("src/img/background.jpg");
                background-repeat: no-repeat;
                background-color: #fff7ff;
            }

            header ul {
                list-style-type: none;
                margin: 0;
                padding: 0;
                overflow: hidden;
                background-color: #333;
              }
              
            header li {
                float: left;
            }
              
            header li a {
                display: block;
                color: white;
                text-align: center;
                padding: 14px 16px;
                text-decoration: none;
            }
            
            header li a:hover:not(.logo) {
                background-color: #111;
            }

            .logo img {
                width: 80px;
                position: absolute;
                top: 16px
            }

            .search {
                height: 32px;
                width: 288px;
                position: relative;
                top: 6px;
                border-radius: 4px;
            }

            fieldset div {
                position: relative;
                left: 200px;
                top: 60px;
            }

            fieldset div p {
                position: relative;
                left: 10px
            }

            #InputForID, #InputForPassword {
                padding-left: 20px;
                margin-bottom: 40px;
                width: 360px;
                height: 40px;
            }

            #ButtonForLogin {
                position: relative;
                left: 10px;
                width: 360px;
                height: 40px;
                border-radius: 6px;
                background-color: aliceblue;
                border-style: none;
                font-size: 12px;
                font-weight: bold;
            }

            #linkforsignup {
                color: orange;
                font-weight: bold;
                text-decoration: none;
            }
        </style>
    </head>
    <body>
        <header>
            <nav>
                <ul>
                    <li><a href="index.html" class="logo" style="margin-left: 10px;"><img src="src\img\logo.png"></a></li>
                    <li><a href="markets.html" style="margin-left: 70px;">Markets</a></li>
                    <li>
                        <form style="margin-left: 40px;">
                            <input placeholder="search.." type="text" class="search">
                        </form>
                    </li>
                </ul>
            </nav>
        </header>
        <fieldset style="border: none;">
            <div>
                <h1 style="color: white;">Welcome to Let's Retire!</h1>
                <input id="InputForID" type="text" placeholder="ID"><br>
                <input id="InputForPassword" type="password" placeholder="password">
                <button type="button" id="ButtonForLogin" style="display: block;">Continue</button>
                <p style="color: white;">Are you new to Let's Retire? <a id="linkforsignup" href="signup.html">sign up</a></p>
            </div>
        </fieldset>
        <script>
            let users = new Array();    // users: Array[User]

            if (JSON.parse(localStorage.getItem("users")) != null) {
                users = JSON.parse(localStorage.getItem("users"));      // localStorage에서 정보 읽기
            }

            const btnReg = document.getElementById("ButtonForLogin");
            const IDReg = document.getElementById("InputForID");
            const PassReg = document.getElementById("InputForPassword");

            btnReg.onclick = function () {
                let isValidInput = false;

                for (let i = 0; i < users.length; ++i) {
                    if (users[i].id == IDReg.value && users[i].password == PassReg.value) {
                        isValidInput = true;
                        localStorage.setItem("current", JSON.stringify(users[i]));
                        location.replace("index.html");
                        break;
                    }
                }

                if (!isValidInput) {
                    alert("Invalid ID or password");
                }
            }
        </script>
    </body>
</html>
